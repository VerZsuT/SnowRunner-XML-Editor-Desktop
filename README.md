# SnowRunner XML Editor Desktop

Данная программа позволяет редактировать XML файлы игры SnowRunner с помощью редактирования визуальной таблицы
параметров.  
Редактор распаковывает нужные файлы из _initial.pak_ во временную папку, после чего идёт работает с ними. При сохранении изменения вносятся в архив.  
Для работы с _initial.pak_ программа использует портативную версию _WinRar_ для 32х разрядных систем.  
Всё работает с применением **Electron**, **Vite**, **Vue**, **Typescript**.

Редактор имеет следующий функционал:

- _обновление_
- _сброс программы и параметров_
- _импорт / экспорт настроек и параметров_
- _редактирование XML_

## Установка

В релизах есть две версии:

- _установщик_. Устанавливает программу в систему (.exe).
- _архив_. Портативная версия программы (.rar).

Различие между версиями только в способе установки.

## Как пользоваться

О том как пользоваться программой можете почитать [в гайде по ссылке](https://snowrunner.mod.io/guides/snowrunner-xml-editor).

## Разработка

_Подразумевается, что у вас есть всё необходимое для работы с NodeJS._

Установите зависимости:

```cmd
npm i
```

Для запуска dev сервера:

```cmd
npm start
```

Для тестовой сборки проекта:

```cmd
npm run package
```

В папке _out_ появится собранная тестовая сборка под 32х-битную систему.  
В данной сборке вам доступен сброс программы, обновление окна, инструменты разработчика (Ctrl+Shift+I), а также не сохраняется бэкап `initial.pak`.

Значения каталогов проекта:

```text
/docs               страница GitHub Pages.
/inno-setup         конфигурация InnoSetup.
/src:               основные ресурсы программы.
   /build-configs       конфигурации Vite и Electron Forge.
   /images:             графические ресурсы.
      /icons                прочие картинки.
      /trailers             картинки прицепов.
      /trucks               картинки авто.
      favicon.ico           иконка программы.
   /main:               main процесс.
      index.ts              стартовый файл.
      tsconfig.json         TS конфигурация для main процесса.
   /modules:            разного рода модули.
      /archive              работа с архиватором.
      /backup               работа с бэкапом.
      /checks               основные проверки.
      /data                 сохраняемые данные.
      /dialogs              системные диалоги.
      /dlcs                 обработка игровых DLC.
      /epf                  экспорт параметров.
      /errors               выброс ошибок.
      /files                работа с файловой системой.
      /game-texts           обработка игровых текстов.
      /helpers              утилиты.
      /images               работа с картинками.
      /messages             вывод сообщений в renderer процесс.
      /paths                различные пути.
      /quit-params          параметры закрытия программы.
      /updates              обновление программы.
      /xml                  работа с XML.
   /renderer:           renderer процесс.
      /components           общие компоненты.
      /pages                окна программы.
         /loading               окно загрузки.
         /main                  основное окно.
            /editor                 страница редактора (таблицы).
            /lists                  страница списков авто / прицепов.
            /main                   основная страница.
         /settings              окно настроек.
         /setup                 окно первой настройки.
         /update                окно обновления.
         /whats-new             окно "что нового".
      /utils                скрипты-помощники.
      style.scss            глобальные стили.
      preload.ts            preload скрипт.
      template-script.ts    скрипт шаблона.
      tsconfig.json         TS конфигурация для renderer процесса.
      types.ts              общие типы для renderer процесса.
   /utils               общие утилиты.
   consts.ts            полезные флаги.
   tsconfig.json        основная TS конфигурация.
```

## Картинки

![список авто](https://thumb.modcdn.io/mods/71c4/3056663/thumb_1020x2000/screenshot2024-03-04131955.png)
![таблица параметров](https://thumb.modcdn.io/mods/71c4/3056663/thumb_1020x2000/screenshot2024-03-04132039.png)
